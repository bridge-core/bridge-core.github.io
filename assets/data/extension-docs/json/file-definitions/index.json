{"hash":"1cfb28cf9c676f8fce266505a0d3801c116c0e42","data":{"markdownPage":{"id":"8dcd83d72d75d8c594f2b679b9799c63","title":"File Definitions","description":"Documentation on how to register new file types to bridge.","path":"/extension-docs/json/file-definitions/","timeToRead":3,"content":"<h1 id=\"file-definitions\"><a href=\"#file-definitions\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>File Definitions</h1>\n<h2 id=\"general\"><a href=\"#general\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>General</h2>\n<p>File definitions allow you to register new file types to bridge. File definitions are only loaded by JSON files located under <code>&#x3C;packageName>/fileDefinitions</code> or <code>&#x3C;EXTENSION NAME>/fileDefinitions</code> from an extension.</p>\n<h2 id=\"format\"><a href=\"#format\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Format</h2>\n<p>The following interfaces describe the JSON format of file definition files.</p>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">IFileType</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">type</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token string\">'json'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'text'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'nbt'</span>\n\tid<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\ticon<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\tdetect<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tscope<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\tmatcher<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\tfileContent<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\tfileExtensions<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">}</span>\n\n\tschema<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\ttypes<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> targetVersion<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>CompareOperator<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\tpackSpider<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\tlightningCache<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\tdefinitions<span class=\"token operator\">:</span> IDefinitions\n\tformatOnSaveCapable<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span>\n\tdocumentation<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tbaseUrl<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\t\tsupportsQuerying<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token comment\">// Default: true</span>\n\t<span class=\"token punctuation\">}</span>\n\tmeta<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tcommandsUseSlash<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span>\n\t<span class=\"token punctuation\">}</span>\n\thighlighterConfiguration<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tkeywords<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\ttypeIdentifiers<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\tvariables<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t\tdefinitions<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IDefinitions</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> IDefinition <span class=\"token operator\">|</span> IDefinition<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IDefinition</span> <span class=\"token punctuation\">{</span>\n\tdirectReference<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span>\n\t<span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n\tmatch<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"type\"><a href=\"#type\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>type</code></h3>\n<p>The type of file that this file definition should define. This is used to help bridge. figure out how to load the file.\nExample: <code>\"type\": \"json\"</code></p>\n<h3 id=\"id\"><a href=\"#id\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>id</code></h3>\n<p>The unique id of the file definition.\nExample: <code>\"id\": \"entity\"</code></p>\n<h3 id=\"icon\"><a href=\"#icon\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>icon</code></h3>\n<p>The <a href=\"https://materialdesignicons.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Material Design Icon</a> that should be associated with this file type.\nExample: <code>\"icon\": \"mdi-minecraft\"</code></p>\n<h3 id=\"detect\"><a href=\"#detect\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>detect</code></h3>\n<p>Properties for detecting this file.</p>\n<ul>\n<li><code>scope</code> - The folder scope of of the project that the file will be found in, e.g. <code>\"scope\": \"BP/entities/\"</code></li>\n<li><code>matcher</code> - A single path or list of paths using glob patterns to match the more precise file location. e.g. <code>\"matcher\": [\"BP/entities/**/*.json\", \"BP/entities/*.json\"]</code></li>\n<li><code>fileContent</code> - A top level property of the file that could be used to guess the file type of a file, e.g. <code>\"fileContent\": [\"minecraft:entity\"]</code></li>\n<li><code>fileExtensions</code> - File extensions that this file can use. This is used to help guess the file type. E.g. <code>\"fileExtensions\": [\".mcstructure\"]</code></li>\n</ul>\n<h3 id=\"schema\"><a href=\"#schema\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>schema</code></h3>\n<p>This can define the path to a JSON schema to provide auto-completions and validation to the file.\nExample: <code>\"schema\": \"file:///data/packages/minecraftBedrock/schema/entity/main.json\"</code></p>\n<h3 id=\"types\"><a href=\"#types\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>types</code></h3>\n<p>This can be used to define the path to a TypeScript declaration file for auto-completions and validation in JavaScript or TypeScript files. You can optionally specify a target version to filter the type declaration file.\nExample: <code>\"types\": [\"types/scriptingApi/common.d.ts\",\"types/scriptingApi/client.d.ts\"]</code></p>\n<h3 id=\"packspider\"><a href=\"#packspider\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>packSpider</code></h3>\n<p>This can reference a pack spider definition file so this file type can be linked to others with PackSpider.\nExample: <code>\"packSpider\": \"entity.json\"</code></p>\n<h3 id=\"lightningcache\"><a href=\"#lightningcache\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>lightningCache</code></h3>\n<p>This can reference a lightning cache definition file so data can be collected from this file type for use in schemas and other bridge. features.</p>\n<h3 id=\"definitions\"><a href=\"#definitions\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>definitions</code></h3>\n<p>This property is used to provide data to bridge.'s go to definition within JSON files.\nExample:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"definitions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"identifier\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t<span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token property\">\"from\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"clientEntity\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token property\">\"match\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"identifier\"</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token property\">\"from\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"spawnRule\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token property\">\"match\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"identifier\"</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"lootTablePath\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token property\">\"directReference\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>In this example the <code>\"identifier\"</code> and <code>\"lootTablePath\"</code> are lightning cache keys from this file.\n<code>\"match\"</code> specifies a lightning cache key that this key should match and <code>\"from\"</code> specifies the file id to search for this key.\n<code>\"directReference\"</code> should be set to true when the value of the cache key is a direct file path to the definition file.</p>\n<h3 id=\"formatonsavecapable\"><a href=\"#formatonsavecapable\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>formatOnSaveCapable</code></h3>\n<p>This should be set to true if the file is able to be automatically formatted by monaco when the file is saved.\nExample: <code>\"formatOnSaveCapable\": false</code></p>\n<h3 id=\"documentation\"><a href=\"#documentation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>documentation</code></h3>\n<ul>\n<li><code>\"baseUrl\"</code> - Should be the base URL of the documentation of this file.</li>\n<li><code>\"supportsQuerying\"</code> - Whether the documentation supports querying specific strings.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"documentation\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://bedrock.dev/docs/stable/Entities\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"meta\"><a href=\"#meta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>meta</code></h3>\n<p>Additonal meta data for the file type.</p>\n<ul>\n<li><code>commandsUseSlash</code> - Whether inline commands in this file use a slash before them. If this is false, the slash will be removed automatically from commands written in the file.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"meta\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"commandsUseSlash\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"highlighterconfiguration\"><a href=\"#highlighterconfiguration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>highlighterConfiguration</code></h3>\n<p>This defines the syntax highlighter configuration for this file. And which strings should be colored with specific color names.</p>\n<p>Example:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"highlighterConfiguration\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"variables\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t<span class=\"token string\">\"description\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"component_groups\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"permutations\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"components\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"events\"</span>\n\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"typeIdentifiers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"format_version\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"event\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"definitions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t<span class=\"token string\">\"animations\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"filters\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"add\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"remove\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"run_command\"</span>\n\t\t<span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"examples\"><a href=\"#examples\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples</h2>\n<ul>\n<li><a href=\"https://github.com/bridge-core/editor-packages/tree/main/packages/minecraftBedrock/fileDefinition\" target=\"_blank\" rel=\"noopener noreferrer\"><code>Built-in fileDefinitions</code></a></li>\n</ul>\n","sidebar":"extensions","next":"","prev":"","author":null,"headings":[{"depth":1,"value":"File Definitions","anchor":"#file-definitions"},{"depth":2,"value":"General","anchor":"#general"},{"depth":2,"value":"Format","anchor":"#format"},{"depth":3,"value":"type","anchor":"#type"},{"depth":3,"value":"id","anchor":"#id"},{"depth":3,"value":"icon","anchor":"#icon"},{"depth":3,"value":"detect","anchor":"#detect"},{"depth":3,"value":"schema","anchor":"#schema"},{"depth":3,"value":"types","anchor":"#types"},{"depth":3,"value":"packSpider","anchor":"#packspider"},{"depth":3,"value":"lightningCache","anchor":"#lightningcache"},{"depth":3,"value":"definitions","anchor":"#definitions"},{"depth":3,"value":"formatOnSaveCapable","anchor":"#formatonsavecapable"},{"depth":3,"value":"documentation","anchor":"#documentation"},{"depth":3,"value":"meta","anchor":"#meta"},{"depth":3,"value":"highlighterConfiguration","anchor":"#highlighterconfiguration"},{"depth":2,"value":"Examples","anchor":"#examples"}],"fileInfo":{"path":"extension-docs/json/file-definitions.md"}},"allMarkdownPage":{"edges":[{"node":{"path":"/extension-docs/custom-components/","title":"Custom Components"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-windows/","title":"@bridge/windows"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-utils/","title":"@bridge/utils"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-ui/","title":"@bridge/ui"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-toolbar/","title":"@bridge/toolbar"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-theme/","title":"@bridge/theme"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-tab/","title":"@bridge/tab"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-tab-actions/","title":"@bridge/tab-actions"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-sidebar/","title":"@bridge/sidebar"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-project/","title":"@bridge/project"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-path/","title":"@bridge/path"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-notifications/","title":"@bridge/notifications"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-monaco/","title":"@bridge/monaco"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-json5/","title":"@bridge/json5"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-globals/","title":"@bridge/globals"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-fs/","title":"@bridge/fs"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-file-importer/","title":"@bridge/file-importer"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-fetch-definition/","title":"@bridge/fetch-definition"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-env/","title":"@bridge/env"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-compare-versions/","title":"@bridge/compare-versions"}},{"node":{"path":"/extension-docs/scripts/modules/bridge-com-mojang/","title":"@bridge/com-mojang"}},{"node":{"path":"/extension-docs/scripts/interfaces/signal/","title":"Signal<T\\>"}},{"node":{"path":"/extension-docs/scripts/interfaces/sidebarelement/","title":"SidebarElement"}},{"node":{"path":"/extension-docs/scripts/interfaces/itabpreviewconfig/","title":"ITabPreviewConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/itabactionconfig/","title":"ITabActionConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/isidebarconfig/","title":"ISidebarConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/iexporter/","title":"IExporter"}},{"node":{"path":"/extension-docs/scripts/interfaces/inotificationconfig/","title":"INotificationConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/idisposable/","title":"IDisposable"}},{"node":{"path":"/extension-docs/scripts/interfaces/imkdirconfig/","title":"IMkdirConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/igethandleconfig/","title":"IGetHandleConfig"}},{"node":{"path":"/extension-docs/scripts/interfaces/builtin/","title":"BuiltIn"}},{"node":{"path":"/extension-docs/scripts/","title":"Scripts"}},{"node":{"path":"/extension-docs/other/default-file-types/","title":"Default File Types"}},{"node":{"path":"/extension-docs/json/themes/","title":"Themes"}},{"node":{"path":"/extension-docs/json/snippets/","title":"Snippets"}},{"node":{"path":"/extension-docs/json/file-definitions/","title":"File Definitions"}},{"node":{"path":"/extension-docs/json/presets/","title":"Presets"}},{"node":{"path":"/extension-docs/json/lightning-cache/","title":"Lightning Cache"}},{"node":{"path":"/editor-docs/other/molang/","title":"MoLang"}},{"node":{"path":"/editor-docs/other/model-viewer/","title":"model-viewer"}},{"node":{"path":"/editor-docs/migration-guide/","title":"bridge. v2 Migration"}},{"node":{"path":"/editor-docs/getting-started/","title":"Getting Started"}},{"node":{"path":"/extension-docs/contributing/","title":"Contributing Extensions"}},{"node":{"path":"/editor-docs/faq/","title":"FAQ"}},{"node":{"path":"/extension-docs/","title":"Extension API"}},{"node":{"path":"/extension-docs/extension-manifest/","title":"Extension Manifest"}},{"node":{"path":"/extension-docs/custom-molang/","title":"Custom MoLang"}},{"node":{"path":"/editor-docs/","title":"Editor"}},{"node":{"path":"/extension-docs/custom-commands/","title":"Custom Commands"}},{"node":{"path":"/extension-docs/compiler-plugins/","title":"Compiler Plugins"}},{"node":{"path":"/editor-docs/features/","title":"Feature Overview"}}]}},"context":{}}